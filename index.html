<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PLSS Restoration Tool</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>PLSS Restoration Tool</h1>

  <div id="anchorInputs">
    <label>Easting (Point A): <input type="number" id="eA" /></label>
    <label>Northing (Point A): <input type="number" id="nA" /></label>
    <label>Section:
      <select id="sectionNumber">
        <option value="">Select</option>
        ${[...Array(36)].map((_, i) => `<option value="${i + 1}">${i + 1}</option>`).join('')}
      </select>
    </label>
    <label>Corner Type:
      <select id="cornerType">
        <option value="">Select</option>
        <option value="NW">NW Section Corner</option>
        <option value="NE">NE Section Corner</option>
        <option value="SW">SW Section Corner</option>
        <option value="SE">SE Section Corner</option>
        <option value="NorthQuarter">North ¼ Corner</option>
        <option value="SouthQuarter">South ¼ Corner</option>
        <option value="EastQuarter">East ¼ Corner</option>
        <option value="WestQuarter">West ¼ Corner</option>
      </select>
    </label>
    <button onclick="setAnchor()">Set Anchor</button>
    <button onclick="resetAll()">Reset</button>
  </div>

  <div id="stepPrompts" style="display:none;">
    <h3>Enter Coordinates and Distances to Lost Corner</h3>
    <div class="grid">
      <label>Easting B: <input type="number" id="eB" /></label>
      <label>Northing B: <input type="number" id="nB" /></label>
      <label>Distance A→Lost: <input type="number" id="dA" /></label>
      <label>Distance B→Lost: <input type="number" id="dB" /></label>
      <label>Easting C: <input type="number" id="eC" /></label>
      <label>Northing C: <input type="number" id="nC" /></label>
      <label>Distance C→Lost: <input type="number" id="dC" /></label>
      <label>Distance D→Lost: <input type="number" id="dD" /></label>
      <label>Easting D: <input type="number" id="eD" /></label>
      <label>Northing D: <input type="number" id="nD" /></label>
    </div>
    <button onclick="restoreLostCorner()">Restore Lost Corner</button>
    <button onclick="undoLast()">Undo Last</button>
  </div>

  <div id="canvasWrapper">
    <canvas id="townshipCanvas" width="600" height="600"></canvas>
  </div>

  <div id="liveCoords"></div>
  <pre id="pointLabels"></pre>
  <pre id="result"></pre>

  <script src="https://unpkg.com/@panzoom/panzoom@9.4.0/dist/panzoom.min.js"></script>
  <script src="app.js" defer></script>
</body>
</html>
